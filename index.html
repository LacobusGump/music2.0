<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GUMP - Spatial Motion AI Music</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,sans-serif;background:#0a0a0a;color:#00ffaa;overflow:hidden;height:100vh;display:flex;align-items:center;justify-content:center;position:relative}
.neural-bg{position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at var(--x,50%) var(--y,50%),rgba(0,255,170,0.1) 0%,rgba(255,107,107,0.05) 30%,rgba(0,0,0,0.9) 70%);transition:all 0.3s ease;z-index:-2}
.void-layer{position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 60% 40%,rgba(16,16,32,0.9) 0%,rgba(32,16,64,0.7) 40%,rgba(0,0,0,0.95) 100%);opacity:0;transition:opacity 2s ease;z-index:-1}
.void-layer.active{opacity:1}
.app{text-align:center;max-width:400px;width:100%;padding:20px;position:relative;z-index:10}
.logo{font-size:clamp(3rem,12vw,6rem);font-weight:900;background:linear-gradient(45deg,#00ffaa,#ff6b6b,#4ecdc4);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:0.5rem;animation:pulse 3s ease-in-out infinite;filter:drop-shadow(0 0 20px rgba(0,255,170,0.3))}
.logo.transcendent{background:linear-gradient(45deg,#ff88cc,#88aaff,#ccaa88);animation:transcend 4s ease-in-out infinite;filter:drop-shadow(0 0 40px rgba(255,136,204,0.5))}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
@keyframes transcend{0%,100%{transform:scale(1) translateY(0)}50%{transform:scale(1.15) translateY(-10px)}}
.tagline{font-size:1.2rem;opacity:0.8;margin-bottom:3rem;font-weight:300;color:#4ecdc4}
.tagline.transcendent{color:#ff88cc;animation:breathe 3s ease-in-out infinite}
@keyframes breathe{0%,100%{opacity:0.8}50%{opacity:1;transform:scale(1.02)}}
.start-btn{padding:20px 40px;background:linear-gradient(45deg,#00ffaa,#4ecdc4);color:#000;border:none;border-radius:30px;font-size:1.2rem;font-weight:700;cursor:pointer;transition:all 0.3s ease;box-shadow:0 10px 30px rgba(0,255,170,0.3);margin-bottom:2rem}
.start-btn:hover{transform:translateY(-3px);box-shadow:0 15px 40px rgba(0,255,170,0.5)}
.spatial-viz{width:100%;height:200px;border:2px solid rgba(0,255,170,0.2);border-radius:20px;position:relative;overflow:hidden;background:rgba(0,255,170,0.03);margin-bottom:2rem;transition:all 1s ease}
.spatial-viz.transcendent{border-color:rgba(255,136,204,0.4);background:rgba(10,10,10,0.95);box-shadow:inset 0 0 30px rgba(255,136,204,0.2)}
.orb{position:absolute;width:60px;height:60px;border-radius:50%;background:radial-gradient(circle,#00ffaa 0%,rgba(10,10,10,0.3) 50%,transparent 100%);top:50%;left:50%;transform:translate(-50%,-50%);transition:all 0.2s ease;box-shadow:0 0 30px rgba(0,255,170,0.5)}
.orb.transcendent{background:radial-gradient(circle,#ff88cc 0%,#88aaff 40%,transparent 100%);box-shadow:0 0 60px rgba(255,136,204,0.6),0 0 120px rgba(136,170,255,0.4);animation:float 5s ease-in-out infinite}
@keyframes float{0%,100%{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-48%,-52%) scale(1.3)}}
.stats{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:2rem}
.stat{background:rgba(0,255,170,0.1);padding:12px;border-radius:12px;border:1px solid rgba(0,255,170,0.2);transition:all 0.5s ease}
.stat.transcendent{background:rgba(255,136,204,0.15);border-color:rgba(255,136,204,0.3)}
.stat-value{font-size:1.3rem;font-weight:700;color:#00ffaa}
.stat-value.transcendent{color:#ff88cc}
.stat-label{font-size:0.7rem;opacity:0.7;margin-top:3px}
.status{font-size:0.9rem;color:#4ecdc4;opacity:0.8;animation:status-pulse 2s ease-in-out infinite}
.status.transcendent{color:#ff88cc}
@keyframes status-pulse{0%,100%{opacity:0.8}50%{opacity:1}}
.particles{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}
.particle{position:absolute;width:3px;height:3px;background:radial-gradient(circle,#ff88cc,transparent);border-radius:50%;animation:particle-float 8s ease-in-out infinite}
@keyframes particle-float{0%{transform:translateY(100vh) scale(0);opacity:0}10%{opacity:1}90%{opacity:1}100%{transform:translateY(-20vh) scale(1);opacity:0}}
.trail{position:absolute;width:2px;height:2px;background:radial-gradient(circle,#00ffaa,transparent);border-radius:50%;opacity:0;animation:trail-fade 2s ease-out forwards}
@keyframes trail-fade{0%{opacity:0.8;transform:scale(1)}100%{opacity:0;transform:scale(0.3)}}
.hidden{display:none!important}
.error{background:rgba(255,107,107,0.1);border:1px solid rgba(255,107,107,0.3);border-radius:15px;padding:20px;color:#ff6b6b;margin-top:20px}
</style>
</head>
<body>
<div class="neural-bg" id="bg"></div>
<div class="void-layer" id="void"></div>
<div class="particles" id="particles"></div>
<div class="app">
<div class="logo" id="logo">GUMP</div>
<div class="tagline" id="tagline">Neural Spatial Music AI</div>
<button class="start-btn" id="btn">ðŸŽµ Activate Neural Link</button>
<div class="spatial-viz hidden" id="viz">
<div class="orb" id="orb"></div>
<div id="trails"></div>
</div>
<div class="stats hidden" id="stats">
<div class="stat"><div class="stat-value" id="motion">0</div><div class="stat-label">Motion</div></div>
<div class="stat"><div class="stat-value" id="bpm">95</div><div class="stat-label">BPM</div></div>
<div class="stat"><div class="stat-value" id="state">CHILL</div><div class="stat-label">State</div></div>
</div>
<div class="status hidden" id="status">ðŸ§  Syncing neural patterns...</div>
<div class="error hidden" id="error"></div>
</div>
<script>
class GUMP{
constructor(){
this.ctx=null;this.motion=0;this.bpm=95;this.pos={x:50,y:50};this.accel={x:0,y:0,z:0};this.active=false;this.step=0;this.state='CHILL';this.trans=false;this.transLevel=0;this.lastMove=Date.now();this.oscs=[];this.nodes={};
this.scale=[261.63,293.66,329.63,349.23,392.00,440.00,493.88,523.25];this.chords=[[0,2,4,6],[5,0,2,4],[3,5,0,2],[4,6,1,3]];this.chord=0;
this.patterns={kick:[1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0],snare:[0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0],hihat:[1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]};
this.init();
}
init(){
document.getElementById('btn').onclick=()=>this.start();
const bg=document.getElementById('bg'),update=()=>{
const t=Date.now()*0.001,x=50+Math.sin(t*0.5)*20,y=50+Math.cos(t*0.3)*15;
bg.style.setProperty('--x',x+'%');bg.style.setProperty('--y',y+'%');
requestAnimationFrame(update);
};update();
}
async start(){
try{
// Force audio context creation with user gesture
this.ctx=new(window.AudioContext||window.webkitAudioContext)();
console.log('Audio context created:',this.ctx.state);
// CRITICAL: Must resume audio context immediately
await this.ctx.resume();
console.log('Audio context resumed:',this.ctx.state);
// iOS motion permission
if(typeof DeviceMotionEvent!=='undefined'&&typeof DeviceMotionEvent.requestPermission==='function'){
const p=await DeviceMotionEvent.requestPermission();
if(p!=='granted')throw new Error('Motion permission denied');
}
this.createAudio();this.showUI();this.startMotion();this.startAudio();this.startViz();this.monitor();
// Test sound to verify audio works
this.testSound();
}catch(e){
console.error('Init error:',e);
this.showError('Audio failed: '+e.message+'. Using mouse fallback.');
this.createAudio();this.showUI();this.startMouse();this.startAudio();this.startViz();this.monitor();
}
}
testSound(){
const o=this.ctx.createOscillator(),g=this.ctx.createGain();
o.frequency.value=440;g.gain.setValueAtTime(0.1,this.ctx.currentTime);
g.gain.exponentialRampToValueAtTime(0.001,this.ctx.currentTime+0.1);
o.connect(g).connect(this.ctx.destination);o.start();o.stop(this.ctx.currentTime+0.1);
console.log('Test beep played');
}
createAudio(){
// Reverb
this.nodes.reverb=this.ctx.createConvolver();
const buf=this.ctx.createBuffer(2,this.ctx.sampleRate*2,this.ctx.sampleRate);
for(let c=0;c<2;c++){
const d=buf.getChannelData(c);
for(let i=0;i<d.length;i++)d[i]=(Math.random()*2-1)*Math.pow(1-i/d.length,2);
}
this.nodes.reverb.buffer=buf;this.nodes.reverb.connect(this.ctx.destination);
// Delay
this.nodes.delay=this.ctx.createDelay();this.nodes.delay.delayTime.value=0.3;
this.nodes.delayGain=this.ctx.createGain();this.nodes.delayGain.gain.value=0.3;
this.nodes.delay.connect(this.nodes.delayGain);this.nodes.delayGain.connect(this.nodes.delay);
this.nodes.delayGain.connect(this.ctx.destination);
}
showUI(){
document.getElementById('btn').classList.add('hidden');
['viz','stats','status'].forEach(id=>document.getElementById(id).classList.remove('hidden'));
this.active=true;
}
showError(msg){
const e=document.getElementById('error');e.textContent=msg;e.classList.remove('hidden');
}
startMotion(){
if(!window.DeviceMotionEvent){this.startMouse();return;}
window.addEventListener('devicemotion',e=>{
if(!this.active)return;
const a=e.accelerationIncludingGravity;
if(!a||a.x===null){this.startMouse();return;}
const dx=Math.abs(a.x-this.accel.x),dy=Math.abs(a.y-this.accel.y),dz=Math.abs(a.z-this.accel.z);
this.motion=Math.min(100,Math.sqrt(dx*dx+dy*dy+dz*dz)*12);
this.accel={x:a.x,y:a.y,z:a.z};
this.pos.x=Math.max(5,Math.min(95,50+a.x*2.5));
this.pos.y=Math.max(5,Math.min(95,50+a.y*2.5));
if(this.motion>5)this.lastMove=Date.now();
this.updateState();this.updateViz();
},{passive:true});
}
startMouse(){
let last={x:0,y:0},vel=0;
document.addEventListener('mousemove',e=>{
if(!this.active)return;
const dx=e.clientX-last.x,dy=e.clientY-last.y;
vel=Math.sqrt(dx*dx+dy*dy);
this.motion=Math.min(100,vel*2);
this.pos.x=(e.clientX/window.innerWidth)*100;
this.pos.y=(e.clientY/window.innerHeight)*100;
last={x:e.clientX,y:e.clientY};
if(this.motion>5)this.lastMove=Date.now();
this.updateState();this.updateViz();
});
setInterval(()=>vel*=0.9,50);
}
updateState(){
if(this.trans){
const states=['HEAVEN','VOID','ETHEREAL','INFINITE'];
this.state=states[Math.floor(this.transLevel*4)]||'HEAVEN';
this.bpm=60+(this.transLevel*40);
}else{
if(this.motion<15){this.state='CHILL';this.bpm=85+this.motion*0.5;}
else if(this.motion<45){this.state='FLOW';this.bpm=100+this.motion*0.4;}
else{this.state='ENERGY';this.bpm=120+this.motion*0.3;}
}
document.getElementById('motion').textContent=Math.round(this.motion);
document.getElementById('bpm').textContent=Math.round(this.bpm);
document.getElementById('state').textContent=this.state;
}
updateViz(){
const orb=document.getElementById('orb');
orb.style.left=this.pos.x+'%';orb.style.top=this.pos.y+'%';
const trails=document.getElementById('trails'),trail=document.createElement('div');
trail.className='trail';trail.style.left=this.pos.x+'%';trail.style.top=this.pos.y+'%';
trails.appendChild(trail);
setTimeout(()=>trail.remove(),2000);
}
monitor(){
const check=()=>{
if(!this.active)return;
const still=Date.now()-this.lastMove,should=still>2000;
if(should&&!this.trans)this.enterTrans();
else if(!should&&this.trans)this.exitTrans();
if(this.trans)this.transLevel=Math.min(1,(still-2000)/5000);
setTimeout(check,100);
};check();
}
enterTrans(){
this.trans=true;
document.getElementById('void').classList.add('active');
['logo','tagline','viz','orb','status'].forEach(id=>document.getElementById(id).classList.add('transcendent'));
document.querySelectorAll('.stat,.stat-value').forEach(el=>el.classList.add('transcendent'));
this.createParticles();this.startDrones();
}
exitTrans(){
this.trans=false;
document.getElementById('void').classList.remove('active');
['logo','tagline','viz','orb','status'].forEach(id=>document.getElementById(id).classList.remove('transcendent'));
document.querySelectorAll('.stat,.stat-value').forEach(el=>el.classList.remove('transcendent'));
this.clearParticles();this.stopDrones();
}
createParticles(){
const p=document.getElementById('particles');
for(let i=0;i<15;i++){
const particle=document.createElement('div');
particle.className='particle';particle.style.left=Math.random()*100+'%';
particle.style.animationDelay=Math.random()*8+'s';
p.appendChild(particle);
}
}
clearParticles(){document.getElementById('particles').innerHTML='';}
startViz(){
const update=()=>{
if(!this.active)return;
requestAnimationFrame(update);
};update();
}
startAudio(){
const tick=()=>{
if(!this.active)return;
if(this.trans)this.playTrans();else this.playReg();
this.step=(this.step+1)%16;
if(this.step===0)this.chord=(this.chord+1)%this.chords.length;
setTimeout(tick,60000/this.bpm/4);
};tick();
}
playReg(){
if(this.patterns.kick[this.step])this.sound('kick');
if(this.patterns.snare[this.step]&&this.motion>10)this.sound('snare');
if(this.patterns.hihat[this.step]&&this.motion>20)this.sound('hihat');
if(this.step%8===0)this.sound('bass');
}
playTrans(){
if(this.step%8===0)this.sound('ethereal');
if(this.step%16===8&&this.transLevel>0.3)this.sound('heavenly');
if(this.step%4===0&&this.transLevel>0.6)this.sound('cosmic');
}
sound(type){
if(!this.ctx||this.ctx.state!=='running')return;
const o=this.ctx.createOscillator(),g=this.ctx.createGain();
switch(type){
case 'kick':
o.frequency.setValueAtTime(60,this.ctx.currentTime);
o.frequency.exponentialRampToValueAtTime(30,this.ctx.currentTime+0.1);
g.gain.setValueAtTime(0.8,this.ctx.currentTime);
g.gain.exponentialRampToValueAtTime(0.001,this.ctx.currentTime+0.3);
o.connect(g).connect(this.ctx.destination);o.start();o.stop(this.ctx.currentTime+0.3);
break;
case 'snare':
o.type='square';o.frequency.value=200;
g.gain.setValueAtTime(0.3,this.ctx.currentTime);
g.gain.exponentialRampToValueAtTime(0.001,this.ctx.currentTime+0.1);
o.connect(g).connect(this.ctx.destination);o.start();o.stop(this.ctx.currentTime+0.1);
break;
case 'hihat':
o.type='square';o.frequency.value=8000;
g.gain.setValueAtTime(0.1,this.ctx.currentTime);
g.gain.exponentialRampToValueAtTime(0.001,this.ctx.currentTime+0.05);
o.connect(g).connect(this.ctx.destination);o.start();o.stop(this.ctx.currentTime+0.05);
break;
case 'bass':
o.frequency.value=this.scale[this.chords[this.chord][0]]*0.5;
g.gain.setValueAtTime(0.3,this.ctx.currentTime);
g.gain.exponentialRampToValueAtTime(0.001,this.ctx.currentTime+0.4);
o.connect(g).connect(this.ctx.destination);o.start();o.stop(this.ctx.currentTime+0.4);
break;
case 'ethereal':
o.frequency.setValueAtTime(40,this.ctx.currentTime);
o.frequency.exponentialRampToValueAtTime(20,this.ctx.currentTime+0.5);
g.gain.setValueAtTime(0.4,this.ctx.currentTime);
g.gain.exponentialRampToValueAtTime(0.001,this.ctx.currentTime+1);
o.connect(g).connect(this.nodes.reverb);o.start();o.stop(this.ctx.currentTime+1);
break;
case 'heavenly':
o.type='triangle';o.frequency.value=400;
g.gain.setValueAtTime(0.2,this.ctx.currentTime);
g.gain.exponentialRampToValueAtTime(0.001,this.ctx.currentTime+0.8);
o.connect(g).connect(this.nodes.reverb);o.start();o.stop(this.ctx.currentTime+0.8);
break;
case 'cosmic':
const freq=this.scale[Math.floor(Math.random()*this.scale.length)];
o.frequency.value=freq*2;
g.gain.setValueAtTime(0.1,this.ctx.currentTime);
g.gain.exponentialRampToValueAtTime(0.001,this.ctx.currentTime+3);
o.connect(g).connect(this.nodes.delay);o.start();o.stop(this.ctx.currentTime+3);
break;
}
}
startDrones(){
this.chords[this.chord].forEach(note=>{
const o=this.ctx.createOscillator(),g=this.ctx.createGain();
o.frequency.value=this.scale[note]*0.5;
g.gain.setValueAtTime(0,this.ctx.currentTime);
g.gain.linearRampToValueAtTime(0.1,this.ctx.currentTime+2);
o.connect(g).connect(this.nodes.reverb);o.start();
this.oscs.push({osc:o,gain:g});
});
}
stopDrones(){
this.oscs.forEach(({osc,gain})=>{
try{
gain.gain.exponentialRampToValueAtTime(0.001,this.ctx.currentTime+1);
osc.stop(this.ctx.currentTime+1);
}catch(e){}
});
this.oscs=[];
}
}
window.addEventListener('load',()=>new GUMP());
</script>
</body>
</html>
